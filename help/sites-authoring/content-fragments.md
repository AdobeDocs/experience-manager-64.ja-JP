---
title: コンテンツフラグメントを使用したページのオーサリング
seo-title: Page Authoring with Content Fragments
description: AEM コンテンツフラグメントを使用すると、ページに依存しないコンテンツの設計、作成、キュレーションおよび使用が可能になります。
seo-description: AEM Content Fragments allow you to design, create, curate, and use page-independent content
uuid: 66ccdff8-1658-4374-8562-97f81f434488
contentOwner: Chris Bohnert
products: SG_EXPERIENCEMANAGER/6.4/SITES
topic-tags: page-authoring
content-type: reference
discoiquuid: 076a3064-80c3-454b-93f9-6ae925c54328
exl-id: bbe4ae86-e9b8-4c3f-ada3-82470e371c4e
source-git-commit: bd94d3949f0117aa3e1c9f0e84f7293a5d6b03b4
workflow-type: tm+mt
source-wordcount: '1153'
ht-degree: 98%

---

# コンテンツフラグメントを使用したページのオーサリング{#page-authoring-with-content-fragments}

>[!CAUTION]
>
>一部のコンテンツフラグメント機能には、 [AEM 6.4 Service Pack 2(6.4.2.0) 以降](/help/release-notes/sp-release-notes.md).

Adobe Experience Manager（AEM）のコンテンツフラグメントは、[ページに依存しないアセット](/help/assets/content-fragments.md)として作成および管理されます。

これによりチャネルに依存しないコンテンツを、様々なバリエーション（チャネル固有）で作成できます。その後、コンテンツページをオーサリングする際に、これらのフラグメントとそれらのバリエーションを使用できます。

更新された JSON エクスポーターと共に構造化コンテンツフラグメントを使用して、AEM コンテンツをコンテンツサービス経由で AEM ページ以外のチャネルに配信することもできます。

>[!NOTE]
>
>**コンテンツフラグメント**&#x200B;と&#x200B;**[エクスペリエンスフラグメント](/help/sites-authoring/experience-fragments.md)**&#x200B;は、AEM 内の異なる機能です。
>
>* **コンテンツフラグメント**&#x200B;は、主にテキストや関連画像などの編集コンテンツです。これは、デザインやレイアウトを含まない純粋なコンテンツです。
>* **エクスペリエンスフラグメント**&#x200B;は完全にレイアウトされたコンテンツであり、Web ページのフラグメントです。

>
>エクスペリエンスフラグメントには、コンテンツフラグメントの形式でコンテンツを含めることができますが、その逆はできません。

>[!CAUTION]
>
>このページは、基本的な用語および概念をフラグメントの作成および管理と共に紹介している[コンテンツフラグメントの操作](/help/assets/content-fragments.md)（および関連ページ）と併せて読む必要があります。

コンテンツフラグメントでは、次のアクションを実行できます。

* **マーケティングおよびキャンペーン戦略**

   * 集中管理されたコンテンツフラグメントでコンテンツをレビューします。

* **クリエイティブプロフェッショナル**

   * コンテンツフラグメントに関連付けられたコレクションを介してクリエイティブアセットを追跡します。

* **コピーライター**

   * AEM コンテンツフラグメントエディターで書き込みます。
   * コンテンツのバリエーションを作成できます。
   * 関連性の高いコンテンツをコンテンツフラグメントと関連付けることができます。
   * バージョン管理やワークフローを使用できます。
   * コンテンツフラグメントを共有できます。
   * 翻訳を集中管理できます。

* **プロデューサーおよびジャーニー管理者**

   * AEM のオーサリングで事前定義されたフラグメントとバリエーションから選択します。
   * コピーライターやクリエイティブが集中管理されたフラグメントやアセットを更新できるので、フラグメントと連携し関連付けられたコンテンツが常に最新の状態に維持されます。
   * 適切にキュレーションされた関連メディアコンテンツと連携できます。
   * アドホックコンテンツのバリエーションをフラグメント内で集中管理したまま、それらのバリエーションをその場で作成できます。

## ページへのコンテンツフラグメントの追加 {#adding-a-content-fragment-to-your-page}

1. 編集するページを開きます。

1. **[!UICONTROL コンテンツフラグメント]**&#x200B;コンポーネントを、**[!UICONTROL コンポーネント]**&#x200B;ブラウザーまたは「**[!UICONTROL 新規コンポーネントを挿入]**」のいずれかから開きます。

1. 次のいずれかを実行できます。

   * **[!UICONTROL Assets]** ブラウザーを開いて、**[!UICONTROL コンテンツフラグメント]**&#x200B;をフィルタリングします（デフォルトは画像）。次に、必要なフラグメントをコンポーネントインスタンスにドラッグします。
   * コンテンツフラグメントコンポーネントを選択して、ツールバーの「**[!UICONTROL 設定]**」を選択します。ダイアログで、選択ダイアログを開き、必要な&#x200B;**[!UICONTROL コンテンツフラグメント]**&#x200B;を参照して選択できます。

   >[!NOTE]
   >
   >特定のコンテンツフラグメントをページに直接ドラッグすることもできます。これにより、関連コンポーネントが自動的に作成されます（コンテンツフラグメント）。

1. 最初に、**[!UICONTROL メイン]**&#x200B;要素および&#x200B;**[!UICONTROL マスター]**（バリエーション）からのコンテンツが表示されます。必要に応じて、[他のエレメントやバリエーションを選択](#selecting-the-element-or-variation)できます。

   ![cfm-6420-01](assets/cfm-6420-01.png)

   >[!NOTE]
   >
   >その他の編集機能について詳しくは、次を参照してください。
   >
   >* [レスポンシブレイアウト](/help/sites-authoring/responsive-layout.md)
   >* [ページのコンテンツの編集](/help/sites-authoring/editing-content.md)


## 要素またはバリエーションの選択 {#selecting-the-element-or-variation}

フラグメントの&#x200B;**[!UICONTROL 設定]**&#x200B;ダイアログを開き、フラグメントを現在のページで使用するように設定します。ダイアログは、使用されるコンポーネントによって異なる場合があります。

適切な設定ダイアログで、以下をはじめとする使用可能なパラメーターを選択できます。

* **[!UICONTROL コンテンツフラグメント]**

   使用するフラグメントを指定します。

* **[!UICONTROL ディスプレイモード]**：

   * **[!UICONTROL 単一のテキスト要素]**
   * **[!UICONTROL 複数の要素]**

* **[!UICONTROL エレメント]**

   * デフォルトの「**[!UICONTROL メイン]**」は常に利用できます。
   * フラグメントが適切なテンプレートで作成されている場合に選択できます。

   >[!NOTE]
   >
   >使用できるエレメントは、使用するテンプレートによって異なります。

* **[!UICONTROL バリエーション]**

   * デフォルトの「**[!UICONTROL マスター]**」は常に利用できます。
   * フラグメントにバリエーションが作成されている場合に選択できます。

* **[!UICONTROL 段落]**：含める段落の範囲を次の中から指定します。

   * **[!UICONTROL すべて]**
   * **[!UICONTROL 範囲]**：例えば、`1`、`3-5`、`9-*` のように指定します。

      * **[!UICONTROL 見出しを独自の段落として処理]**

* **[!UICONTROL 見出しを独自の段落として処理]**

## フラグメントエディターへのクイック接続 {#quick-connection-to-fragment-editor}

コンポーネントツールバーの&#x200B;**[!UICONTROL 編集]**&#x200B;アイコンを使用して、フラグメントのソースを開いて（アセットを）編集できます。この機能により、[コンテンツフラグメントを編集および管理できます](/help/assets/content-fragments.md)。

>[!CAUTION]
>
>フラグメントソースの編集は、そのコンテンツフラグメントを参照するすべてのページに影響します。

## 中間コンテンツの追加 {#adding-in-between-content}

特定のコンテンツフラグメントをページに追加すると、フラグメントの各 HTML 段落間（および上部／下部）に&#x200B;**[!UICONTROL コンポーネントをここにドラッグ]**&#x200B;プレースホルダーが表示されます。

これにより、ルートフラグメントを変更することなく、フラグメントコンテンツの[中間（中間コンテンツ）](/help/assets/content-fragments.md#in-between-content-when-page-authoring-with-content-fragments)（の利用可能な任意のポイント）にコンテンツを追加できます。

中間コンテンツでは、次のことができます。

* [コンポーネントブラウザー](/help/sites-authoring/author-environment-tools.md#components-browser)からコンポーネントを追加する。
* [Assets ブラウザー](/help/sites-authoring/author-environment-tools.md#assets-browser)からアセットを追加する。
* [関連コンテンツ](#using-associated-content)を中間コンテンツのソースとして使用する。

>[!CAUTION]
>
>中間コンテンツは、ページコンテンツです。中間コンテンツはコンテンツフラグメントに保存されません。

![cfm-6420-02](assets/cfm-6420-02.png)

>[!NOTE]
>
>フラグメント自体に[ビジュアルアセット（画像）を挿入](/help/assets/content-fragments-variations.md#inserting-assets-into-your-fragment)することもできます。
>
>フラグメント自体に挿入されたビジュアルアセットは、フラグメントの前の段落に配置されます。つまり、ビジュアルアセットと前の段落の間に中間コンテンツを配置することはできません。

>[!CAUTION]
>
>ページのコンテンツフラグメントに中間コンテンツを追加した後に、基になるコンテンツフラグメントの構造をコンテンツフラグメントエディターなどで変更すると、エラーや予期しない結果を引き起こすおそれがあります。
>
>これが発生した場合、中間コンテンツはそのまま維持されます。
>
>* 中間コンポーネントは、フラグメントフローのコンポーネントのシーケンス内に絶対位置を持ちます。この位置は、フラグメント内の段落のコンテンツが変更されても変更されません。\
   >  中間段落は隣に位置する（フラグメント）段落とコンテキスト関係を持たないので、これにより、相対位置が変更したかのように見せることができます。
>* 2 つの段落構造が競合する場合を除きます。競合する場合、中間コンテンツは（内部的には存在していますが）表示されません。

>


## 関連コンテンツの使用 {#using-associated-content}

[コンテンツフラグメント](/help/assets/content-fragments.md)に[コンテンツを関連付けた](/help/assets/content-fragments-assoc-content.md)場合、これらのアセットは（フラグメントをコンテンツページに配置した後に）サイドパネルから使用できます。関連コンテンツは、事実上、[中間コンテンツ](#adding-in-between-content)用のコンテンツの特別なソースです。

>[!NOTE]
>
>[ビジュアルアセット（画像など）](/help/assets/content-fragments.md#fragments-with-visual-assets)をフラグメントやページに追加するには、様々な方法があります。

>[!NOTE]
>
>1 つのページに複数のコンテンツフラグメントがある場合、「**[!UICONTROL 関連コンテンツ]**」タブにすべてのフラグメントに適切なアセットが表示されます。

コンテンツが関連付けられたフラグメントをページに追加すると、新しいタブ（「**[!UICONTROL 関連コンテンツ]**」）がサイドパネルに開きます。

ここから、アセットを必要な場所（既存の位置または適切なコンポーネントが作成される必要がある位置）にドラッグできます。

![cfm-6420-03](assets/cfm-6420-03.png)

## フラグメントに挿入されたアセット {#assets-inserted-into-the-fragment}

[アセット（画像など）がフラグメント自体に挿入されている](/help/assets/content-fragments-variations.md#inserting-assets-into-your-fragment)場合、ページエディターでこれらのアセットを編集するためのオプションは制限されます。

例えば、画像の場合、次のことができます。

* 画像の切り抜き、回転または反転
* タイトルまたは代替テキストの追加
* サイズの指定
* レイアウトの設定

移動、コピー、削除などの他の変更は、フラグメントエディターで行う必要があります。

## 公開 {#publishing}

フラグメントを公開済みの Web ページで使用するには、フラグメントを公開する必要があります。

* フラグメントは、[フラグメントを Assets コンソールで作成](/help/assets/content-fragments-managing.md#publishing-and-referencing-a-fragment)した後に公開できます。
* 公開されるページに&#x200B;*非公開のフラグメント*&#x200B;が使用されると、そのタイミングでフラグメントも公開できます。
