---
title: OSGi 上の Forms 中心のワークフロー
seo-title: Rapidly build adaptive forms-based processes, automate document services operations, and use Acrobat Sign with AEM workflows
description: AEM Forms Workflow を使用して、レビューと承認の自動化と迅速な構築を行い、ドキュメントサービスを開始する ( 例えば、PDFドキュメントを別の形式に変換する場合 )、Acrobat Sign署名ワークフローなどと統合します。
seo-description: Use AEM Forms Workflow to automate and rapidly build review and approvals, to start document services (For example, to convert a PDF document to another format), integrate with Acrobat Sign signature workflow, and more.
uuid: 46be7ec6-d5cc-498a-9484-e66a29527064
products: SG_EXPERIENCEMANAGER/6.4/FORMS
topic-tags: document_services, publish
discoiquuid: f8df5fa3-3843-4110-a46d-9a524d2657cd
noindex: true
exl-id: fa39a4e8-ae22-4356-8935-44fdf1f4f609
source-git-commit: f8b19b6723d333e76fed111b9fde376b3bb13a1d
workflow-type: tm+mt
source-wordcount: '2866'
ht-degree: 93%

---

# OSGi 上の Forms 中心のワークフロー {#forms-centric-workflow-on-osgi}

![](do-not-localize/header.png)

企業は、膨大な数のフォーム、様々なバックエンドシステム、オンラインやオフラインのデータソースからデータを収集します。また、データに関する意思決定を行うための動的なユーザーセットもあります。これには、反復的なレビューと承認のプロセスが含まれます。

内部および外部オーディエンスのレビューや承認プロセスと併せて、大規模な組織や事業では反復タスクを実施しています。例えば、PDF ドキュメントの別フォーマットへの変換などを行います。これらのタスクは、手動で行うと多くの時間とリソースを要します。企業には、後で事前定義された形式で使用するために、ドキュメントにデジタル署名し、フォームデータをアーカイブする法的要件もあります。

## OSGi 上の Forms 中心のワークフローの導入 {#introduction-to-forms-centric-workflow-on-osgi}

AEM ワークフローを使用することで、アダプティブフォームベースのワークフローをすばやく構築することができます。これらのワークフローは、レビューと承認、ビジネスプロセスフローに使用して、ドキュメントサービスを開始し、Acrobat Sign署名ワークフローと統合したり、同様の操作をおこなうことができます。 例えば、クレジットカードの申請処理、従業員の休暇承認ワークフロー、フォームの PDF ドキュメントとしての保存などです。さらに、これらのワークフローは組織内やネットワークファイアウォール全体で使用することができます。

OSGi での Forms 中心のワークフローを使用すると、JEE スタックに本格的なプロセス管理機能をインストールしなくても、OSGi スタックで様々なタスクのワークフローを迅速に構築およびデプロイできます。ワークフローの開発と管理では、従来の AEM ワークフロー機能と AEM インボックス機能が使用されます。ワークフローにより、複数のソフトウェアシステム、ネットワーク、部門、組織にわたる実際のビジネスプロセスを自動化するための基礎が構築されます。

これらのワークフローは一度設定すると、手動でトリガーして定義済みプロセスを完了することも、ユーザーによるフォームまたは [Correspondence Management](/help/forms/using/cm-overview.md) レターの送信時にワークフローをプログラムで実行することもできます。この拡張 AEM ワークフロー機能により、2 つの類似した機能を AEM Forms で使用することができます。デプロイメントを計画する際に、どちらの機能を使用するかを決める必要があります。OSGi での Forms 中心の AEM ワークフローと JEE での Process Management の[比較](/help/forms/using/capabilities-osgi-jee-workflows.md)を参照してください。さらに、デプロイメントトポロジーについては、「[AEM Forms のアーキテクチャとデプロイメントトポロジー](/help/forms/using/aem-forms-architecture-deployment.md)」を参照してください。

OSGi 上の Forms 中心のワークフローは、[AEM インボックス](/help/sites-authoring/inbox.md)を拡張し、AEM ワークフローエディターに追加のコンポーネント（手順）を提供することで、AEM Forms 中心のワークフローをサポートします。拡張 AEM インボックスは、[AEM Forms ワークスペース](/help/forms/using/introduction-html-workspace.md)と同様の機能を持ちます。人間中心のワークフロー（承認、レビューなど）の管理に加え、AEMワークフローを使用して自動化できます [ドキュメントサービス](/help/sites-developing/workflows-step-ref.md)関連する操作 ( 例えば、PDFの生成 ) および電子署名 (Acrobat Sign) ドキュメント。

次の図は、OSGi 上の Forms 中心のワークフローを作成、実行、監視するためのエンドツーエンドの手順を示します。

![introduction-to-aem-forms-workflow](assets/introduction-to-aem-forms-workflow.jpg)

## 事前準備 {#before-you-start}

* ワークフローは、実世界のビジネスのプロセスを表すものです。実世界のビジネスプロセスを維持し、そのビジネスプロセスの参加者のリストを準備しましょう。また、ワークフローの作成を開始する前にコラテラル（アダプティブフォーム、PDF ドキュメントなど）を準備しましょう。
* ワークフローには複数のステージが含まれることがあります。これらのステージは、AEM インボックスに表示され、ワークフローの進捗を分かりやすくします。ビジネスプロセスを論理ステージに分割します。
* AEM ワークフローのタスクの割り当て手順で、電子メール通知をユーザーまたは担当者に送信するように設定することができます。これにより、[電子メール通知を有効にする](#configure-email-service)ことができます。
* ワークフローでは、電子署名にAcrobat Signを使用することもできます。 ワークフローでAcrobat Signを使用する予定がある場合、 [AEM Forms用のAcrobat Signの設定](/help/forms/using/adobe-sign-integration-adaptive-forms.md) ワークフローで使用する前に。

## ワークフローモデルの作成 {#create-a-workflow-model}

ワークフローモデルは、ビジネスプロセスのロジックとフローで構成されます。また、一連の手順で構成されています。これらの手順は、AEM のコンポーネントです。必要に応じて、ワークフロー手順をパラメーターやスクリプトを使用してさらに機能性や制御が高くなるように拡張することができます。初期状態で使用できる AEM 手順に加えて、AEM Forms はいくつかの手順を提供しています。AEM と AEM Forms の手順の詳細なリストについては、「[AEM ワークフロー手順のリファレンス](/help/sites-developing/workflows-step-ref.md)」と「[OSGi 上の Forms 中心のワークフロー - 手順のリファレンス](/help/forms/using/aem-forms-workflow.md)」を参照してください。

AEM には、提供されているワークフロー手順を使用してワークフローモデルを作成するための直感的なユーザーインターフェイスが用意されています。ワークフローモデルを作成するためのステップごとの手順については、「[ワークフローモデルの作成](/help/sites-developing/workflows-models.md)」を参照してください。次の例では承認およびレビューワークフローでワークフローモデルを作成するためのステップごとの手順が示されています。

>[!NOTE]
>
>ワークフローモデルを作成または編集するには、workflow-editor グループのメンバーである必要があります。

### 承認およびレビューワークフローのモデルの作成 {#create-a-model-for-an-approval-and-review-workflow}

承認およびレビューワークフローは、判断に人間の介入を必要とするタスクに使用されます。次の例では、金融機関本部で記入される住宅ローン申し込み用のワークフローモデルを作成します。アプリケーションが記入されると、承認に送信されます。その後、承認された申請は、Acrobat Signを使用して電子署名を申請する申請者に送信されます。

サンプルは、下記に添付されたパッケージとしてご利用いただけます。パッケージマネージャーを使ってサンプルをインポートしてインストールします。また、アプリケーションのワークフローモデルを手動で作成するには、次の手順を実行します。

この例では、金融機関の担当者が記入する住宅ローン申し込みのためのワークフローモデルを作成します。アプリケーションが記入されると、承認に送信されます。その後、承認済みのアプリケーションが、Acrobat Signを使用した電子署名用にお客様に送信されます。 パッケージマネージャーを使ってサンプルを読み込んでインストールできます。

[ファイルを入手](assets/example-mortgage-loan-application.zip)

1. ワークフローモデルコンソールを開きます。デフォルトの URL は、`https://[Server]:[port]/libs/cq/workflow/admin/console/content/models.html/etc/workflow/models`
1. 「**[!UICONTROL 作成]**」を選択してから、「**[!UICONTROL モデルを作成]**」を選択します。「ワークフローモデルを追加」のダイアログが表示されます。
1. 「**[!UICONTROL タイトル]**」と「**[!UICONTROL 名前]**」（オプション）を入力します。例えば、住宅ローン申し込みと入力します。「**[!UICONTROL 完了]**」をタップします。
1. 新しく作成されたワークフローモデルを選択して「**編集」をタップします。**&#x200B;これで、ワークフローステップを追加してビジネスロジックを構築できるようになりました。新しいワークフローモデルを初めて作成する場合、次のものが含まれます。

   * 手順：フローの開始と終了。これらの手順は、ワークフローの始まりと終わりを表します。これらの手順は必須で、編集または削除できません。
   * 「手順 1」という名称の参加者手順の例。この手順は、作業項目を管理者ユーザーに割り当てるように設定されています。この手順を削除します。

1. 電子メール通知を有効にします。OSGi でフォーム中心のワークフローを設定して、ユーザーまたは担当者に電子メール通知を送信できます。電子メール通知を有効にするには、以下の設定を実行します。

   1. AEM Configuration Manager（`https://[server]:[port]/system/console/configMgr`）に移動します。
   1. **[!UICONTROL Day CQ 電子メールサービス]**&#x200B;の設定を開きます。「**[!UICONTROL SMTP サーバーのホスト名]**」、「**[!UICONTROL SMTP サーバーポート]**」、「**[!UICONTROL 送信元アドレス]**」フィールドの値を指定します。「**[!UICONTROL 保存]**」をクリックします。
   1. 「**[!UICONTROL Day CQ Link Externalizer]**」の設定を開きます。「**[!UICONTROL ドメイン]**」フィールドで、ローカルインスタンス、オーサーインスタンス、発行インスタンスの実際のホスト名/ IP アドレスとポート番号を指定します。「**[!UICONTROL 保存]**」をクリックします。

1. ワークフローステージを作成します。ワークフローには複数のステージが含まれることがあります。これらのステージは、AEM インボックスに表示され、ワークフローの進捗をレポートします。

   ステージを定義するには、![info-circle](assets/info-circle.png) アイコンをタップしてワークフローモデルのプロパティを表示し、「**[!UICONTROL ステージ]**」タブを開いてワークフローモデルのステージを追加して、「**[!UICONTROL 保存して閉じる」をタップします。]**&#x200B;住宅ローン申し込みの例では、ローン申請、ローン申請ステータス、署名予定ドキュメント、署名済みローンドキュメントのステージを作成します。

1. 「**[!UICONTROL タスクの割り当て]**」ステップブラウザーをワークフローモデルにドラッグアンドドロップします。これをモデルの最初の手順にします。

   タスクの割り当てコンポーネントは、ワークフローの作成したタスクをユーザーまたはグループに割り当てます。このコンポーネントにより、タスクの割り当てだけでなく、タスクで使用するアダプティブフォームや非インタラクティブ PDF を指定することもできます。アダプティブフォームはユーザーからの入力を受け付けるために必要であり、非インタラクティブ PDF または読み取り専用のアダプティブフォームはレビュー専用のワークフローに使用されます。

   また、タスクの動作を制御するためにその手順を使用することもできます。例えば、レコードの自動ドキュメントの作成、特定のユーザーまたはグループへのタスクの割り当て、送信されたデータのパス、事前に入力されるデータのパス、デフォルトのアクションを制御できます。タスク割り当てのオプションについては、「[OSGi 上の Forms 中心のワークフロー - ステップのリファレンス](/help/forms/using/aem-forms-workflow.md)」を参照してください。

   ![workflow-editor](assets/workflow-editor.png)

   住宅ローンのサンプルでは、読み取り専用のアダプティブフォームを使用してタスクの割り当て手順を設定し、タスクの完了後に PDF ドキュメントを表示します。また、ローン申請を承認できるユーザーグループも選択します。「**[!UICONTROL アクション]**」タブで、「**[!UICONTROL 送信]**」オプションを無効にします。**[!UICONTROL ルート変数]**&#x200B;を指定します。例えば、actionTaken のように指定します。また、承認と拒否のルートを追加します。ルートは、AEM インボックスでは別のアクション（ボタン）として表示されます。ワークフローでは、ユーザーがタップした操作（ボタン）に基づいて分岐が選択されます。

   セクションの始めに示すサンプルパッケージを読み込むことにより、住宅ローン申し込みの例に設定されているタスク割り当て手順のすべてのフィールドの値を一式入手できます。

1. OR 分割コンポーネントをステップブラウザーからワークフローモデルにドラッグ＆ドロップします。OR 分割は、ワークフロー内に分割を作成し、以降は 1 つの分岐だけがアクティブになります。これを使用すると、ワークフローに条件付き処理パスを導入できます。必要に応じて、各分岐にワークフローステップを追加できます。

   OR 分割のプロパティを開き、ブランチ 1 とブランチ 2 に次のコードスニペットを追加します。これらのコードスニペットにより、AEM インボックスのユーザーアクションに基づいてブランチを選択できるようになります。

   **ブランチ 1 のコードスニペット**

   AEM インボックスで「**[!UICONTROL 承認]**」をタップすると、分岐 1 がアクティブになります。

   ```
   function check(){
      var action = workflowData.getMetaDataMap().get("actionTaken","");
   log.info("action " + action);
      return action=="Approve";
   }
   ```

   **ブランチ 2 のコードスニペット**

   AEM インボックスで「**[!UICONTROL 拒否]**」をタップすると、分岐 2 がアクティブになります。

   ```
   function check(){
      var action = workflowData.getMetaDataMap().get("actionTaken","");
   log.info("action " + action);
      return action=="Reject";
   }
   ```

1. その他のワークフローステップを追加し、ビジネスロジックを構築します。

   住宅ローンのサンプルでは、以下の画像に示すように、1 つのレコードのドキュメント、2 つのタスクの割り当て手順、1 つのドキュメントの署名ステップをモデルのブランチ 1 に追加します。タスクの割り当てステップの 1 つは&#x200B;**申請者の署名予定ローンドキュメント**&#x200B;の表示と送信に使用し、もう 1 つは、**署名済みドキュメントの表示**&#x200B;に使用します。また、分岐 2 にタスクの割り当てコンポーネントも追加します。AEM インボックスで「拒否」をタップすると、分岐 2 がアクティブになります。

   サンプルの住宅ローン申し込みに設定されているタスクの割り当て手順、レコードのドキュメント手順、ドキュメントの署名手順のすべてのフィールドの値セットは、セクションの始めに示す場所からダウンロードできます。

   ワークフローモデルが準備できました。ワークフローを様々な方法で起動することができます。詳しくは、「[OSGi 上での Forms 中心のワークフローの起動](#launch)」を参照してください。

   ![workflow-editor-mortgage](assets/workflow-editor-mortgage.png)

## Forms 中心のワークフローアプリケーションの作成 {#create-a-forms-centric-workflow-application}

アプリケーションは、ワークフローに関連付けられているアダプティブフォームです。インボックス経由でアプリケーションが送信されると、関連するワークフローが起動します。AEM インボックス および AEM Forms アプリケーションで、フォームワークフローをアプリケーションとして使用できるようにするには、以下の手順でワークフローアプリケーションを作成します。

>[!NOTE]
>
>ワークフローアプリケーションを作成して管理するには、fd-administrator グループのメンバーである必要があります。

1. AEMオーサーインスタンスで、に移動します。 ![ツール](assets/tools.png) > **[!UICONTROL Forms]** > **[!UICONTROL ワークフローアプリケーションを管理]** とタップ **[!UICONTROL 作成]**.
1. ワークフローアプリケーションを作成ウィンドウで、以下のフィールドに入力を入力し、 **[!UICONTROL 作成]**. 新しいアプリケーションが作成され、ワークフローアプリケーション画面にリストされます。

<table> 
 <tbody> 
  <tr> 
   <td>フィールド</td> 
   <td>説明</td> 
  </tr> 
  <tr> 
   <td>タイトル</td> 
   <td>タイトルは AEM インボックスに表示され、ユーザーがアプリケーションを選択するのに役立ちます。タイトルは、内容が分かりやすいものにしてください。例えば、預金口座開設アプリケーションのようにします。<br /> </td> 
  </tr> 
  <tr> 
   <td>名前 </td> 
   <td>アプリケーションの名前を指定します。英数字、ハイフン、アンダースコア以外の文字はすべてハイフンで置き換えられます。 </td> 
  </tr> 
  <tr> 
   <td>説明</td> 
   <td>説明は、AEM インボックスに表示されます。アプリケーションに関する詳細な情報を説明フィールドに入力します。例えば、アプリケーションの目的を入力します。<br /> </td> 
  </tr> 
  <tr> 
   <td>アダプティブフォーム</td> 
   <td><p>アダプティブフォームのパスを指定します。ユーザーがアプリケーションを起動すると、指定したアダプティブフォームが表示されます。</p> <p><strong>注意</strong>：ワークフローアプリケーションは、2 ページ以上または Apple iPad でスクロールが必要なフォームや PDF ドキュメントをサポートしません。Apple iPad でアプリケーションを開く際にアダプティブフォームや PDF ドキュメントが 2 ページにまたがる場合は、フォームのフィールドや 2 ページ目のコンテンツが失われます。</p> </td> 
  </tr> 
  <tr> 
   <td>アクセスグループ</td> 
   <td><p>グループを選択します。アプリケーションは、選択されたグループのメンバーにのみ AEM インボックスで表示されます。アクセスグループオプションを使用すると、ワークフローユーザーグループのすべてのグループを選択することができます。 </p> <br /> </td> 
  </tr> 
  <tr> 
   <td>事前入力サービス</td> 
   <td>アダプティブフォームの<a href="/help/forms/using/prepopulate-adaptive-form-fields.md#aem-forms-custom-prefill-service" target="_blank">事前入力サービス</a>を選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td>ワークフローモデル</td> 
   <td>アプリケーションの <a href="/help/forms/using/aem-forms-workflow.md#create-a-workflow-model">ワークフローモデル</a> を選択します。ワークフローモデルは、ビジネスプロセスのロジックとフローで構成されます。 </td> 
  </tr> 
  <tr> 
   <td>データファイルのパス</td> 
   <td>crx-repository のデータファイルのパスを指定します。パスは、アダプティブフォームのペイロードに対する相対パスとなり、データファイルの名前が含まれます。必ず拡張子を含む完全なファイル名を指定してください（該当する場合）。例えば、[payload]/data.xml のようになります。 </td> 
  </tr> 
  <tr> 
   <td>添付ファイルのパス</td> 
   <td>crx-repository の添付ファイルフォルダーのパスを指定します。添付ファイルのパスは、ペイロードの場所を基準とします。例えば、[payload]/data.xml のようになります。 </td> 
  </tr> 
  <tr> 
   <td>レコードのドキュメントのパス</td> 
   <td>crx-repository のレコードファイルのドキュメントのパスを指定します。パスは、アダプティブフォームのペイロードの場所に対する相対パスです。必ず拡張子を含む完全なファイル名を指定してください（該当する場合）。例えば、[payload]/DOR/creditcard.pdf のようになります。</td> 
  </tr> 
 </tbody> 
</table>

## OSGi 上での Forms 中心のワークフローの起動 {#launch}

Forms 中心のワークフローは、次のように起動またはトリガーできます。

* [AEM インボックスからのアプリケーションの送信](#inbox)
* [AEM Forms アプリケーションからのアプリケーションの送信](#afa)

* [アダプティブフォームの送信](#af)
* [監視フォルダーの使用](#watched)

* [インタラクティブ通信またはレターの送信](#letter)

### AEM インボックスからのアプリケーションの送信 {#inbox}

作成したワークフローアプリケーションは、インボックスでアプリケーションとして使用できます。workflow-users グループのメンバーであるユーザーは、関連するワークフローをトリガーするアプリケーションを入力して送信できます。AEM インボックスを使用してアプリケーションを送信し、タスクを管理する方法について詳しくは、「[AEM インボックスでの Forms アプリケーションとタスクの管理](/help/forms/using/manage-applications-inbox.md)」を参照してください。

### AEM Forms アプリケーションからのアプリケーションの送信 {#afa}

AEM Forms アプリケーションは、AEM Forms サーバーと同期されます。AEM Forms アプリケーションをアカウントで使用することで、フォームデータ、タスク、ワークフローアプリケーション、保存済み情報（ドラフト、テンプレート）を変更することができます。詳しくは、「[AEM Forms アプリケーション](/help/forms/using/aem-forms-app.md)」と関連記事を参照してください。

### アダプティブフォームの送信 {#af}

アダプティブフォームの送信アクションを、アダプティブフォームの送信時にワークフローを開始するように設定することができます。アダプティブフォームでは、**[!UICONTROL AEM ワークフローを起動]**&#x200B;送信アクションにより、アダプティブフォームの送信時にワークフローが開始するようにできます。送信アクションについて詳しくは、「[送信アクションの設定](/help/forms/using/configuring-submit-actions.md)」を参照してください。AEM Forms アプリケーションを使用してアダプティブフォームを送信するには、アダプティブフォームのプロパティで「AEM Forms アプリケーションと同期」オプションを有効にします。

アダプティブフォームを設定して、ワークフローの同期、送信、トリガーを AEM Forms アプリケーションから実行することができます。詳しくは、「[フォームの操作](/help/forms/using/working-with-form.md)」を参照してください。

### 監視フォルダーの使用 {#watched}

管理者（fd-administrator グループのメンバー）はネットワークフォルダーを設定することにより、ユーザーがそのフォルダーにファイル（PDF ファイルなど）を配置すると、設定済みワークフローが実行されるようにすることができます。ワークフローが完了したら、結果のファイルを指定した出力フォルダーに保存できます。このようなフォルダーを[監視フォルダー](/help/forms/using/watched-folder-in-aem-forms.md)と呼びます。監視フォルダーがワークフローを起動するよう設定するには、以下の手順を実行します。

1. AEMオーサーインスタンスで、に移動します。 ![ツール](assets/tools.png) **[!UICONTROL Forms /監視フォルダーを設定]**. 既に設定されている監視フォルダーのリストが表示されます。
1. 「**[!UICONTROL 新規]**」をタップします。フィールドのリストが表示されます。次のフィールドの値を指定して、ワークフローに監視フォルダーを設定します。

<table> 
 <tbody> 
  <tr> 
   <td>フィールド</td> 
   <td>説明</td> 
  </tr> 
  <tr> 
   <td><span class="uicontrol">名前</span></td> 
   <td>監視フォルダーの名前を指定します。このフィールドは、英数字のみサポートします。</td> 
  </tr> 
  <tr> 
   <td><span class="uicontrol">パス</span></td> 
   <td>監視フォルダーの物理的な位置を指定します。クラスター環境では、AEM クラスターノードからアクセスできる共有ネットワークフォルダーを指定します。</td> 
  </tr> 
  <tr> 
   <td><span class="uicontrol">次を使用してファイルを処理</span></td> 
   <td>「<span class="uicontrol">ワークフロー</span>」オプションを選択します。 </td> 
  </tr> 
  <tr> 
   <td><span class="uicontrol">ワークフローモデル</span></td> 
   <td>ワークフローモデルを選択します。<br /> </td> 
  </tr> 
  <tr> 
   <td><span class="uicontrol">出力ファイルのパターン</span></td> 
   <td>出力ファイルと出力ディレクトリのディレクトリ構造を指定します。<a href="/help/forms/using/admin-help/configuring-watched-folder-endpoints.md" target="_blank">出力ファイルと出力ディレクトリのパターン</a>を指定することもできます。</td> 
  </tr> 
 </tbody> 
</table>

1. 「**[!UICONTROL 詳細設定]**」をタップします。次のフィールドの値を指定し、をタップします。 **[!UICONTROL 作成]**. ワークフローを起動するように監視フォルダーを設定できます。これで、監視フォルダーの入力ディレクトリにファイルが配置されるといつでも、指定されたワークフローがトリガーされます。

   | フィールド | 説明 |
   |---|---|
   | ペイロードマッパーフィルター | 監視フォルダーを作成すると、crx-repository にフォルダー構造を作成します。このフォルダー構造はワークフローへのペイロードとして使用されます。AEM ワークフローをマッピングして監視フォルダー構造からの入力を受け入れるようにするスクリプトを記述することができます。初期設定済みの実装を使用することができ、ペイロードマッパーフィルターにリストされます。カスタムの実装がない場合は、デフォルトの実装を選択します。 |

   「詳細設定」タブには多数のフィールドが含まれています。これらのほとんどのフィールドにはデフォルトの値が指定されています。すべてのフィールドについて詳しくは、「[監視フォルダーの作成または設定](/help/forms/using/creating-configure-watched-folder.md)」の記事を参照してください。

### インタラクティブ通信またはレターの送信 {#letter}

インタラクティブ通信やレターを送信する際に、OSGi 上の Forms 中心のワークフローを関連付けて実行することができます。通信の管理では、ワークフローを使用して、インタラクティブ通信とレターの後処理を実行します。例えば、最終的なレターの送信、印刷、Fax、アーカイブでワークフローが使用されます。詳しい手順については、「[インタラクティブ通信とレターの後処理](/help/forms/using/submit-letter-topostprocess.md)」を参照してください。

## 追加設定 {#additional-configurations}

### 電子メールサービスの設定 {#configure-email-service}

AEM ワークフローの「タスクを割り当て」ステップと「電子メールを送信」ステップを使用して、電子メールを送信することができます。電子メールを送信するために必要な電子メールサーバーと各種の設定を指定するには、以下の手順を実行します。

1. AEM Configuration Manager（`https://[server]:[port]/system/console/configMgr`）に移動します。
1. **[!UICONTROL Day CQ 電子メールサービス]**&#x200B;の設定を開きます。「**[!UICONTROL SMTP サーバーのホスト名]**」、「**[!UICONTROL SMTP サーバーポート]**」、「**[!UICONTROL 送信元アドレス]**」フィールドの値を指定します。「**[!UICONTROL 保存]**」をクリックします。
1. 「**[!UICONTROL Day CQ Link Externalizer]**」の設定を開きます。「**[!UICONTROL ドメイン]**」フィールドで、ローカルインスタンス、オーサーインスタンス、発行インスタンスの実際のホスト名/ IP アドレスとポート番号を指定します。「**[!UICONTROL 保存]**」をクリックします。

### ワークフローインスタンスの削除 {#purge-workflow-instances}

ワークフローインスタンスの数を最小限に抑えるとワークフローエンジンのパフォーマンスが向上します。完了したワークフローインスタンスや実行中のワークフローインスタンスはリポジトリーから定期的に削除できます。詳しくは、「[ワークフローインスタンスの定期的な削除](/help/sites-administering/workflows-administering.md#regular-purging-of-workflow-instances)」を参照してください。
